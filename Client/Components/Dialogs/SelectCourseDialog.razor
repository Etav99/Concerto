@inherits DialogAutoFullscreen
@inject ISnackbar Snackbar

<MudDialog Style="">
	<DialogContent>
		<MudStack Spacing="4" Style="max-height: calc(100vh - 136px);">
			<CoursesList OnCourseSelected="SelectCourse" ManagementEnabled="false" WithoutCourseIds="WithoutCourseIds"/>
		</MudStack>

	</DialogContent>

	<DialogActions>
		<MudButton Variant="Variant.Filled" Color="Color.Error" OnClick="Cancel">Cancel</MudButton>
	</DialogActions>

</MudDialog>

@code {

	[Parameter]
	public IEnumerable<long> WithoutCourseIds { get; set; } = Enumerable.Empty<long>();

	void Cancel()
	{
		Dialog.Cancel();
	}

	protected override void OnInitialized()
	{
		Dialog.Options.FullWidth = true;
		Dialog.Options.MaxWidth = MaxWidth.Large;
		Dialog.SetOptions(Dialog.Options);
	}

	private void SelectCourse(long courseId)
	{
		Dialog.Close(DialogResult.Ok(courseId));
	}

}