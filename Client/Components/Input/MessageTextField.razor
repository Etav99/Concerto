<MudStack Row="true" AlignItems="AlignItems.Stretch" Class="mx-4 mb-2">
	<MudTextField @bind-Value="MessageContent" Immediate="true" OnKeyPress="Enter" Label="Message" Variant="Variant.Outlined">></MudTextField>
	<MudButton OnClick="Send" Disabled="!CanSend" StartIcon="@Icons.Material.Filled.Send" Color="Color.Primary" ButtonType="ButtonType.Button">Send</MudButton>
</MudStack>

@code {
	public string MessageContent { get; set; } = string.Empty;

	private bool CanSend => !string.IsNullOrEmpty(MessageContent);

	[Parameter]
	public EventCallback<string> OnSend { get; set; }

	private async Task Enter(KeyboardEventArgs e)
	{
		if (e.Code == "Enter" || e.Code == "NumpadEnter")
		{
			await Send();
		}
	}

	private async Task Send()
	{
		await OnSend.InvokeAsync(MessageContent);
		MessageContent = string.Empty;
	}
}
